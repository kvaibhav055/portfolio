<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact Me | Vaibhav Sharma</title>
    <link rel="stylesheet" href="contact-me.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header></header>    
    
    <main class="actual-body">
        <section class="contact-section margin-class">
            <h3 class="heading-css">Get in Touch</h3>
            <p>If you have any questions, feel free to reach out. I would love to hear from you!</p>
            <form id="connectForm" class="contact-form">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
                
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
                
                <label for="message">Message:</label>
                <textarea id="message" name="message" rows="5" required></textarea>
                <input type="hidden" name="from_name" value="Website Visitor">
                <button type="submit" class="submit-btn">Send Message</button>
            </form>
        </section>
    </main>

    <footer class="footer-container">
        <p>Created with â™¥ by Vaibhav Sharma</p>
    </footer>
</body>
<script src="index.js"></script>
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>
<script>
    (function() {
        emailjs.init("EdDd_eMFr8T9OQBu0"); // Replace with your EmailJS User ID
    })();

    function sendEmail(e) {
        e.preventDefault();

        const serviceID = "service_ka8gbxl"; // Replace with your EmailJS Service ID
        const templateID = "template_ficlb2s"; // Replace with your original Template ID
        const autoReplyTemplateID = "template_upnvy1x"; // Replace with your Auto-Reply Template ID

        // Send the form submission to your email
        emailjs.sendForm(serviceID, templateID, e.target)
            .then(() => {
                console.log("Form submission sent to your email!");
            }, (error) => {
                console.error("Error sending form submission:", error);
            });

        // Send an auto-reply to the user
        const formData = new FormData(e.target);
        const userEmail = formData.get("email");
        const userName = formData.get("name");
        const userMessage = formData.get("message");

        emailjs.send(serviceID, autoReplyTemplateID, {
            to_email: userEmail, // Send to the user's email
            name: userName,
            message: userMessage,
        })
            .then(() => {
                console.log("Auto-reply sent to the user!");
            }, (error) => {
                console.error("Error sending auto-reply:", error);
            });

        alert("Thank you! Your message has been sent.");
    }

    document.getElementById("connectForm").addEventListener("submit", sendEmail);
</script>
<!--     load header  -->
    <script src="loadHeader.js"></script>
</html>
